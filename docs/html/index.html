<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lift using Bernoulli&#39;s Equation: Lift using Bernoulli&#39;s Equation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Lift using Bernoulli&#39;s Equation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Lift using Bernoulli's Equation </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://signaloid.io/repositories?connect=https://github.com/janithpet/signaloid-bernoulli#gh-dark-mode-only">&lt;img src="https://assets.signaloid.io/add-to-signaloid-cloud-logo-dark-v6.png#gh-dark-mode-only" alt="[Add to signaloid.io]" height="30"&gt;</a> <a href="https://signaloid.io/repositories?connect=https://github.com/janithpet/signaloid-bernoulli#gh-light-mode-only">&lt;img src="https://assets.signaloid.io/add-to-signaloid-cloud-logo-light-v6.png#gh-light-mode-only" alt="[Add to signaloid.io]" height="30"&gt;</a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Calculating Lift using Bernoulli's Principle</h1>
<p >This repository contains an implementation of a simple model of lift that uses Bernoulli's principle. The model incorporates uncertainty in some measurements using the tools provided by the <a href="https://signaloid.io">Signaloid Cloud Developer Platform</a>.</p>
<p >We also ran experiments to verify the effects of different choices available for cores on the Signaloid Cloud Developer Platform. The results of these can be seen in the Results section.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Usage</h2>
<p >This repository can be run locally on your own machine (tested on macOS 14.0) and on the Signaloid Cloud Developer Platform.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Local</h3>
<p >To run this code locally, first clone the repository. Then, run the following from the root of the repository: </p><div class="fragment"><div class="line">make run</div>
</div><!-- fragment --><p >The output of this should look like:</p>
<p ><img src="https://github.com/janithpet/signaloid-bernoulli/assets/22471198/03b81de1-bdaf-4b4b-835c-8eefb754cd24" alt="image" width="288" class="inline"/></p>
<p ><em>The <code>local</code> version of this code doesn't contain any uncertainty because it is generally only used to debug. All distributions of uncertain values are collapsed to their mean values.</em></p>
<p >Other <code>make</code> commands include <code>make clean</code> to remove all generated files, <code>make docs</code> to generate the documentation, and <code>make build</code> to build the object files and final executable.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Signaloid Cloud Developer Platform</h3>
<p >To run on the Signaloid Cloud Developer Platform, simply click on the <a href="https://signaloid.io/repositories?connect=https://github.com/janithpet/signaloid-bernoulli#gh-dark-mode-only"><code>add to signaloid.io</code></a> button on the top of this README. This will add this repository to your Signaloid Cloud Developer Platform account. You can then run the code by clicking on the <code>Run</code> button on this repository's card on the Repository page.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Problem Setup</h2>
<p >The problem at hand is to use Bernoulli's Principle to calculate the lift generated by a wing by making velocity measures using pitot tubes. However, since little else is specified, we make the following assumptions:</p>
<h3><a class="anchor" id="autotoc_md5"></a>
Assumptions about the fluid</h3>
<ul>
<li>The fluid is air.</li>
<li>The fluid (air) is incompressible.</li>
<li>The fluid (air) is inviscid.</li>
<li>The air density is assumed to be a known constant of 1.225 $kg/m^3$.</li>
</ul>
<h3><a class="anchor" id="autotoc_md6"></a>
Assumptions about the wing and simulated 'test' setup</h3>
<ul>
<li>The airfoil is NACA-6412. We assumed this to calculate what realistic fluid velocities above and below the airfoil are. The NACA-6412 airfoil looks like: <img src="https://github.com/janithpet/signaloid-bernoulli/assets/22471198/adae13cd-c746-4313-a2d1-bf0a870520a5" alt="image" width="874" class="inline"/></li>
<li>The surface area of the airfoil is $1$ $m^2$.</li>
<li>The wing is assumed to be set up in such a way that 3D effects are negligible. Therefore, the wing is treated as if it is 2D.</li>
<li>The air speed is constant at 0.1Ma $\sim$ $34.3$ $ms^{-1}$.</li>
<li>The airfoil is at an angle of attack of $5^\circ$.</li>
<li>Two pitot tubes of the same specification are attached to the top and bottom of the airfoil (at approximately 30% of the chord length); see the section below for an analysis of this assumption.</li>
</ul>
<h3><a class="anchor" id="autotoc_md7"></a>
Assumptions about the pitot tubes</h3>
<ul>
<li>They operate using a differential pressure sensor. Therefore, they can directly measure the difference between the static pressure and the stagnation pressure (see the Bernoulli's Principle section below).</li>
<li>They have a 0.5% full-scale error <a href="https://www.surreysensors.com/article/uncertain-pitot-static-probe/">[1]</a>.</li>
<li>They have a range 0-3650 $Pa$ <a href="https://www.surreysensors.com/article/uncertain-pitot-static-probe/">[1]</a>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Theory</h2>
<h3><a class="anchor" id="autotoc_md9"></a>
Bernoulli's Principle</h3>
<p >Bernoulli's Principle is a key relationship in fluid dynamics that can be derived from the conservation of energy. It is generally applied to ideal fluids that are incompressible and inviscid. If we assume that any variations in height are negligible, then Bernoulli's Principle simply states the sum of the static and dynamic pressures are constant:</p>
<p >$$p + p^{dyn} = p^{stag} = constant,$$ where</p><ul>
<li>$p$ is the static pressure of the fluid. This is the pressure value we obtain if we measure the pressure of a moving fluid.</li>
<li>$p^{dyn}$ is the dynamic pressure of the fluid. This is the 'kinetic energy' component of the equation. If the velocity of the fluid at a point is $u$, then the dynamic pressure is</li>
</ul>
<p >$$p^{dyn} = \frac{1}{2}\rho u^2,$$ where $\rho$ is the density of the fluid.</p>
<ul>
<li>$p^{stag}$ is the stagnation pressure of the fluid. This is the pressure value we obtain if we measure the pressure of a fluid that is not moving. This is also called the 'total pressure' of the fluid.</li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
pitot tubes</h3>
<p >A pitot tube is a device that measures the velocity of a fluid at a point. It does this by measuring the difference $\Delta p_{pitot}$ between the static pressure $p$ and the stagnation pressure $p^{stag}$. This gives us the dynamic pressure from which the velocity of the fluid $u$. Therefore, $u$ is given by:</p>
<p >$$u = \sqrt{\frac{2\Delta p_{pitot}}{\rho}}.$$</p>
<p >*Note that the operation of the pitot tube also uses Bernoulli's Principle.</p>
<h3><a class="anchor" id="autotoc_md11"></a>
Measuring lift using Bernoulli's Principle</h3>
<p >A simple model of how a wing works is that the airfoil causes the air to move faster above the wing than below it. Let $u_{top}$ and $u_{bottom}$ be the velocities of the air above and below the wing respectively. Then, Bernoulli's Principle gives us:</p>
<p >$$p_{top} + \frac{1}{2}\rho u_{top}^2 = p_{bottom} + \frac{1}{2}\rho u_{bottom}^2.$$</p>
<p >Therefore, the difference in pressure between the top and bottom of the wing, $\Delta p_{wing}$ is given by:</p>
<p >$$\Delta p_{wing} = p_{top} - p_{bottom} = \frac{1}{2}\rho (u_{bottom}^2 - u_{top}^2).$$ Since $u_{bottom} &lt; u_{top} \implies \Delta p_{wing} &lt; 0$, i.e. the pressure below the wing is higher than the pressure above the wing. This pressure difference acts on the surface area of the wing an upward force that is called lift. Thus, since $\text{force} = \text{pressure}\times\text{area}$, we can calculate the lift $L$ generated by the wing using:</p>
<p >$$L = \Delta p_{wing} \times S = \frac{1}{2}\rho S(u_{top}^2 - u_{bottom}^2),$$ where $S$ is the surface area ($\text{chord length} \times \text{span}$) of the wing.</p>
<p ><em>This simple model is known to give approximately correct results <a href="https://www1.grc.nasa.gov/beginners-guide-to-aeronautics/bernoulli-and-newton/">[2</a>,<a href="https://www3.eng.cam.ac.uk/outreach/Project-resources/Wind-turbine/howwingswork.pdf">3]</a>, but isn't necessarily the most physically-correct model of how lift is generated <a href="https://www3.eng.cam.ac.uk/outreach/Project-resources/Wind-turbine/howwingswork.pdf">[3]</a>.</em></p>
<h2><a class="anchor" id="autotoc_md12"></a>
Incorporating measurement uncertainty</h2>
<p >Measurements are inherently uncertain. We therefore incorporate uncertainty in the measurement of velocity using the pitot tubes. See assumptions-about-the-pitot tubes "the section on assumptions" for the uncertainty values we used.</p>
<p >In the implementation, we incorporate uncertainty using the <a href="https://docs.signaloid.io/docs/hardware-api/">Signaloid UxHw Hardware API</a>. We use the function <code>UxHwDoubleUniformDist</code> function to add uniform noise.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Implementation Details</h2>
<p >For documentation, follow the docstrings in the code (see the [<code>src/</code>](src) and [<code>local-include/</code>](local-include) folders), or open the documentation in <a href="docs/html/index.html"><code>docs/html/index.html</code></a> of this repository.</p>
<p >In the rest of this section, we detail how we obtained the values of the velocities of the air and the uncertainty in the measuring devices.</p>
<h3><a class="anchor" id="autotoc_md14"></a>
The velocities of the air</h3>
<p >The velocity of the air above and below the airfoil was determined using <a href="https://web.mit.edu/drela/Public/web/xfoil/">Xfoil [4]</a>. We obtained the distributions of the coefficient of pressure $C_p$ on the airfoil on the top and bottom surfaces. The velocities were then calculated using the following formula <a href="https://www.mheducation.com/highered/product/fundamentals-aerodynamics-anderson/M9781259129919.html">[5]</a>: $$u = u_\infty \sqrt{1 - C_p},$$ where $u_\infty$ is the free-stream velocity of the air (we assumed this was 0.1Ma). In fact, this equation itself is also derived from Bernoulli's Principle by applying the definition of $C_p$.</p>
<p >The complete simulated values of $C_p$ can be found in <code>cp.dat</code>. Accordingly, the top velocity was 54.59 $ms^{-1}$ and the bottom velocity was 26.81 $ms^{-1}$. </p>
<h3><a class="anchor" id="autotoc_md15"></a>
The uncertainty in the measuring devices</h3>
<ul>
<li>The range of the pitot tube was obtained as twice the maximum pressure difference that would been caused by the velocities obtained above.</li>
<li>The uncertainty of the pitot tube was obtained using <a href="ttps://www.surreysensors.com/article/uncertain-pitot-static-probe/">[1]</a>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Results</h2>
<p >To analyse the effects of the choice of cores that the <a href="https://signaloid.io">Signaloid Cloud Developer Platform</a> offers, we ran the code in this repository on the configurations in the table below. We also ran a local Monte Carlo simulation (with 1,000,000 Monte Carlo samples) to obtain a <em>ground truth</em> distribution of the calculated lift. We then computed the Wassserstein distance <a href="https://link.springer.com/chapter/10.1007/978-3-540-71050-9_6#citeas">[6]</a> between the distributions obtained from the different Signaloid cores and the ground truth distribution.</p>
<p >The table below shows the results of these experiments.</p>
<center></center><center><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Core   </th><th class="markdownTableHeadNone">Representation Size / Number of Samples   </th><th class="markdownTableHeadNone">Autocorrelation   </th><th class="markdownTableHeadNone">Wasserstein Distance    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Athens (C0)   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">1.014    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Athens (C0)   </td><td class="markdownTableBodyNone">64   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">0.097    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Athens (C0)   </td><td class="markdownTableBodyNone">256   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">0.036    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Athens (C0)   </td><td class="markdownTableBodyNone">2048   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">0.018    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Athens (C0)   </td><td class="markdownTableBodyNone">8192   </td><td class="markdownTableBodyNone">Yes   </td><td class="markdownTableBodyNone">0.011    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Athens (C0)   </td><td class="markdownTableBodyNone">8192   </td><td class="markdownTableBodyNone">No   </td><td class="markdownTableBodyNone">3.651    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Local   </td><td class="markdownTableBodyNone">1,000,000   </td><td class="markdownTableBodyNone">N.A.   </td><td class="markdownTableBodyNone">N.A.   </td></tr>
</table>
</center><center></center><p >Images of the plots of the probability distrubutions for each of the cases above can be seen in the [&lsquo;plots/&rsquo;](plots) folder.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Analysis</h3>
<ul>
<li>We can first note that as the representation size increases, the Wasserstein distance to the ground truth decreases.</li>
<li>For this particular problem, it was beneficial to turn autocorrelation tracking on, since we can see that the Wasserstein distance for a representation size of 8192 is higher when it is turned off.</li>
</ul>
<h2><a class="anchor" id="autotoc_md18"></a>
Are 2 pitot tubes enough?</h2>
<p >In order to check whether the assumption that 2 pitot tubes are enough, we calculated the simulated lift force generated by this wing using Xfoil. Xfoil provides a value for the coefficient of lift $C_l$ for the airfoil. This value was 1.3623. Given this, the simulated lift $L_{sim}$ can be calculated using the lift equation:</p>
<p >$$L_{sim} = \frac{1}{2}\rho u_\infty^2 S C_l.$$ Using $u_\infty = 34.3$ $ms^{-1}$ and $S = 1$ $m^2$, we get $L_{sim} = 985.74$ $N$. The value we obtained (1385.07 $N$) is 40.51% higher.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Future Work</h2>
<ul>
<li>Incorporate uncertainty in other parameters, such as the surface area of the airfoil.</li>
<li>Perhaps there is a better position along the chord of the airfoil to place the pitot tubes. This could be investigated. The current position was chosen arbitrarily.</li>
<li>Use more pitot tubes along the span of the airfoil situated at the same distance from the leading edge, and average the measurements. This can simulate taking multiple measurements of the same quantity (since 3D effects are ignored).</li>
<li>A more realistic setup could be to make more velocity measurements along the chord of the airfoil, and then integrate along the shape of the airfoil to obtain the lift. This could give a more realistic value of the lift.</li>
</ul>
<h2><a class="anchor" id="autotoc_md20"></a>
References</h2>
<p ><a href="https://www.surreysensors.com/article/uncertain-pitot-static-probe/">[1] https://www.surreysensors.com/article/uncertain-pitot-static-probe/</a></p>
<p ><a href="https://www1.grc.nasa.gov/beginners-guide-to-aeronautics/bernoulli-and-newton/">[2] <em>NASA</em>; Bernoulli and Newton (Beginner's Guide to Aeronautics)</a></p>
<p ><a href="https://www3.eng.cam.ac.uk/outreach/Project-resources/Wind-turbine/howwingswork.pdf">[3] <em>Babinsky, Holger</em>; How do wings work?</a></p>
<p ><a href="https://web.mit.edu/drela/Public/web/xfoil/">[4] <em>Drela, Mark</em>; Xfoil: Subsonic Airfoil Development System</a></p>
<p ><a href="https://www.mheducation.com/highered/product/fundamentals-aerodynamics-anderson/M9781259129919.html">[5] <em>Anderson, John D.</em> Fundamentals of Aerodynamics</a></p>
<p ><a href="https://link.springer.com/chapter/10.1007/978-3-540-71050-9_6#citeas">[6] <em>Villani, C.</em> The Wasserstein distances</a></p>
<h2><a class="anchor" id="autotoc_md21"></a>
Known Issues</h2>
<ul>
<li>The doxygen documentation of the main page is slightly broken because it doesn't seem to easily parse the Latex equations, nor does it handle images correctly.</li>
<li>The [<code>docs/</code>](docs) folder can be automated into a Github Action so that any changes to the documentation is automatically updated. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
